{
  "name": "opentok",
  "description": "OpenTok server-side SDK",
  "version": "2.2.0-alpha",
  "homepage": "http://opentok.github.io/opentok-node",
  "repository": {
    "type": "git",
    "url": "https://github.com/opentok/opentok-node.git"
  },
  "contributors": [
    {
      "name": "Brian Stoner",
      "email": "bsstoner@gmail.com",
      "url": "http://brianstoner.com"
    },
    {
      "name": "Song Zheng",
      "email": "song@tokbox.com",
      "url": "http://songz.me"
    },
    {
      "name": "Ankur Oberoi",
      "email": "aoberoi@gmail.com",
      "url": "http://aoberoi.me"
    }
  ],
  "main": "lib/opentok.js",
  "scripts": {
    "test": "grunt"
  },
  "engines": {
    "node": ">=0.8.0"
  },
  "devDependencies": {
    "grunt": "^0.4.4",
    "grunt-mocha-test": "^0.10.0",
    "chai": "^1.9.1",
    "nock": "^0.27.2",
    "async": "^0.2.10",
    "grunt-jasmine-node": "^0.2.1"
  },
  "dependencies": {
    "xmljson": "~0.2.0",
    "underscore": "~1.5.2",
    "request": "^2.34.0",
    "lodash": "^2.4.1"
  },
  "readme": "# OpenTok Node SDK\n\n**TODO**: got to change this to master branch instead of cleaning-up\n\n[![Build Status](https://travis-ci.org/opentok/opentok-node.png?branch=cleaning-up)](https://travis-ci.org/opentok/opentok-node)\n\nThe OpenTok Ruby SDK lets you generate\n[sessions](http://tokbox.com/opentok/tutorials/create-session/) and\n[tokens](http://tokbox.com/opentok/tutorials/create-token/) for [OpenTok](http://www.tokbox.com/)\napplications. This version of the SDK also includes support for working with OpenTok 2.0 archives.\n\n# Installation\n\n## npm (recommended):\n\nnpm helps manage dependencies for node projects. Find more info here: <http://npmjs.org>\n\nRun this command to install the package and adding it to your `package.json`:\n\n```\n$ npm install opentok --save\n```\n\n## Manually:\n\n**TODO**: instructions on getting the shrinkwrapped tarball from GitHub Releases\n\n# Usage\n\n## Initializing\n\nImport the module to get a constructor function for an OpenTok object, then call it with `new` to\ninitantiate it with your own API Key and API Secret.\n\n```javascript\nvar OpenTok = require('opentok'),\n    opentok = new OpenTok(apiKey, apiSecret);\n```\n\n## Creating Sessions\n\nTo create an OpenTok Session, use the `opentok.createSession(properties, callback)` method. The \n`properties` parameter is an optional object used to specify whether you are creating a p2p Session\nand specifying a location hint. The callback has the signature `function(error, session)`. The \n`session` returned in the callback is an instance of Session. Session objects have a `sessionId`\nproperty that is useful to be saved to a persistent store (e.g. database).\n\n```javascript\n// Just a plain Session\nopentok.createSession(function(err, session) {\n  if (err) return console.log(err);\n\n  // save the sessionId\n  db.save('session', session.sessionId, done);\n});\n\n// A p2p Session\nopentok.createSession({p2p:true}, function(err, session) {\n  if (err) return console.log(err);\n\n  // save the sessionId\n  db.save('session', session.sessionId, done);\n});\n\n// A Session with a location hint\nopentok.createSession({location:'12.34.56.78'}, function(err, session) {\n  if (err) return console.log(err);\n\n  // save the sessionId\n  db.save('session', session.sessionId, done);\n});\n```\n## Generating Tokens\n\nOnce a Session is created, you can start generating Tokens for clients to use when connecting to it.\nYou can generate a token by calling the `opentok.generateToken(sessionId, options)` method. Another\nway is to call the `session.generateToken(options)` method of a Session object. The `options`\nparameter is an optional object used to set the role, expire time, and connection data of the Token.\n\n```javascript\n// Generate a Token from just a sessionId (fetched from a database)\ntoken = opentok.generateToken(sessionId);\n\n// Genrate a Token from a session object (returned from createSession)\ntoken = session.generateToken();\n\n// Set some options in a Token\ntoken = session.generateToken({\n  role :       'moderator',\n  expireTime : (new Date().getTime() / 1000)+(7 * 24 * 60 * 60), // in one week\n  data :       'name=Johnny'\n});\n```\n\n## Working with archives\n\nYou can start the recording of an OpenTok Session using the `opentok.startArchive(sessionId,\noptions, callback)` method. The `options` parameter is an optional object used to set the name of\nthe Archive. The callback has the signature `function(err, archive)`. The `archive` returned in\nthe callback is an instance of `Archive`. Note that you can only start an archive on a Session with\nconnected clients.\n\n```javascript\nopentok.startArchive(sessionId, { name: 'Important Presentation' }, function(err, archive) {\n  if (err) return console.log(err);\n\n  // The id property is useful to save off into a database\n  console.log(\"new archive:\" + archive.id);\n});\n```\n\nYou can stop the recording of a started Archive using the `opentok.stopArchive(archiveId, callback)`\nmethod. You can also do this using the `archive.stop(callback)` method an `Archive` instance. The\ncallback has a signature `function(err, archive)`. The `archive` returned in the callback is an\ninstance of `Archive`.\n\n```javascript\nopentok.stopArchive(archiveId, function(err, archive) {\n  if (err) return console.log(err);\n\n  console.log(\"Stopped archive:\" + archive.id);\n});\n\narchive.stop(function(err, archive) {\n  if (err) return console.log(err);\n});\n```\n\nTo get an `Archive` instance (and all the information about it) from an `archiveId`, use the \n`opentok.getArchive(archiveId, callback)` method. The callback has a function signature \n`function(err, archive)`. You can inspect the properties of the archive for more details.\n\n```javascript\nopentok.getArchive(archiveId, function(err, archive) {\n  if (err) return console.log(err);\n\n  console.log(archive);\n});\n```\n\nTo delete an Archive, you can call the `opentok.deleteArchive(archiveId, callback)` method or the \n`delete(callback)` method of an `Archive` instance. The callback has a signature `function(err)`.\n\n```javascript\n// Delete an Archive from an archiveId (fetched from database)\nopentok.deleteArchive(archiveId, function(err) {\n  if (err) console.log(err);\n});\n\n// Delete an Archive from an Archive instance (returned from archives.create, archives.find)\narchive.delete(function(err) {\n  if (err) console.log(err);\n});\n```\n\nYou can also get a list of all the Archives you've created (up to 1000) with your API Key. This is\ndone using the `opentok.listArchives(options, callback)` method. The parameter `options` is an\noptional object used to specify an `offset` and `count` to help you paginate through the results.\nThe callback has a signature `function(err, archives, totalCount)`. The `archives` returned from\nthe callback is an array of `Archive` instances. The `totalCount` returned from the callback is\nthe total number of archives your API Key has generated.\n\n```javascript\nopentok.listArchives({offset:100, count:50}, function(error, archives, totalCount) {\n  if (error) return console.log(\"error:\", error);\n\n  console.log(totalCount + \" archives\");\n  for (var i = 0; i < archives.length; i++) {\n    console.log(archives[i].id);\n  }\n});\n```\n# Documentation\n\n**TODO**: Reference documentation is available at <http://opentok.github.io/opentok-node/>\n\n# Requirements\n\nYou need an OpenTok API key and API secret, which you can obtain at <https://dashboard.tokbox.com>.\n\nThe OpenTok Node SDK requires node 0.10 or higher.\n\n# Release Notes\n\n**TODO**: See the [Releases](https://github.com/opentok/opentok-php-sdk/releases) page for details \nabout each release.\n\n## Important changes in v2.0\n\nThis version of the SDK includes support for working with OpenTok 2.0 archives. (This API does not\nwork with OpenTok 1.0 archives.)\n\n# Development and Contributing\n\nInterested in contributing? We <3 pull requests! File a new\n[Issue](https://github.com/opentok/opentok-node/issues) or take a look at the existing ones. If\nyou are going to send us a pull request, please try to run the test suite first and also include\ntests for your changes.\n\n# Support\n\nSee <http://tokbox.com/opentok/support/> for all our support options.\n\nFind a bug? File it on the [Issues](https://github.com/opentok/opentok-node/issues) page. Hint:\ntest cases are really helpful!\n\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/opentok/opentok-node/issues"
  },
  "_id": "opentok@2.2.0-alpha",
  "dist": {
    "shasum": "68ac7193216401b00c6a750ed3d12136a7d2610b"
  },
  "_resolved": "git://github.com/opentok/opentok-node#9a5b5e1941ed0a509aecc77cce7f0ef3cf15a031",
  "_from": "git://github.com/opentok/opentok-node#cleaning-up",
  "_fromGithub": true
}
